{"version":3,"sources":["redux/dialogs-reduser.js","api/api.js","components/Navbar/Navbar.module.css","redux/sidebar-reducer.js","redux/users-reducer.js","redux/auth-reducer.js","redux/app-reducer.js","redux/redux-store.js","components/Navbar/Navbar.jsx","assets/img/user_photo_small.png","components/Users/Users.jsx","redux/users-selector.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","App.js","hoc/withSuspense.jsx","reportWebVitals.js","index.js","assets/img/preloader.gif","components/common/Preloader/Preloder.jsx","components/common/FormControls/FormControls.module.css","components/common/FormControls/FormControls.js","utils/validators/validators.js","components/Users/Users.module.scss","components/Header/Header.module.css","redux/profile-reduser.js"],"names":["SEND_MESSAGE","initialState","dialogs","id","name","messages","message","sendMessageCreator","newMessageBody","type","dialogsReducer","state","action","length","instance","axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","module","exports","sidebarReducer","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setIsFetching","setIsFollowingInProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","map","user","followed","totalCount","filter","SET_USER_DATA","isAuth","setAuthUserData","payload","authReducer","INITIALIZED_SUCCESS","initialized","appReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","usersPage","auth","form","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleWare","Navbar","className","s","nav","item","to","activeClassName","activeLink","href","Users","props","pagesCount","Math","ceil","pages","i","push","page","style","selectedPage","onClick","onPageChanged","src","photos","small","userPhoto","alt","disabled","some","getUsersReselect","createSelector","u","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","setCurrentPage","this","React","Component","connect","items","Header","header","loginBlock","HeaderContainer","maxLength30","maxLengthCreator","LoginReduxForm","reduxForm","handleSubmit","error","onSubmit","Field","placeholder","component","Input","validate","required","formError","stopSubmit","_error","formData","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","fallback","promise","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById","Preloader","preloader","FormControl","input","meta","hasError","touched","formControl","children","Textarea","restProps","value","maxLength","ADD_POST","SET_USER_PROFILE","SET_USER_STATUS","DELETE_POST","posts","likesCount","profile","addPostActionCreator","newPostText","setUserStatus","getUserProfile","getUserStatus","updateUserStatus","postId"],"mappings":"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","file":"static/js/main.971780c9.chunk.js","sourcesContent":["const SEND_MESSAGE = 'SEND-MESSAGE'\r\n\r\nlet initialState = {\r\n  dialogs: [\r\n    {id: 1, name: 'Alex'},\r\n    {id: 2, name: 'Alex2'},\r\n    {id: 3, name: 'Alex3'},\r\n    {id: 4, name: 'Alex4'},\r\n    {id: 5, name: 'Alex5'},\r\n  ],\r\n  messages: [\r\n    {id: 1, message: 'Mess1'},\r\n    {id: 2, message: 'Mess2'},\r\n    {id: 3, message: 'Mess3'},\r\n    {id: 4, message: 'Mess4'},\r\n  ],\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SEND_MESSAGE: {\r\n      return {\r\n        ...state,\r\n        messages: [\r\n          ...state.messages,\r\n          {\r\n            id: state.messages.length + 1,\r\n            message: action.newMessageBody\r\n          }\r\n        ],\r\n      }\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({type: SEND_MESSAGE, newMessageBody})\r\n\r\nexport default dialogsReducer","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n  headers: {\r\n    'API-KEY': 'b7966b07-c235-4419-8e44-b431e2d687e7',\r\n  }\r\n})\r\n\r\nexport const usersAPI = {\r\n  getUsers: (currentPage = 1, pageSize = 5) => {\r\n    return instance\r\n      .get(`users?page=${currentPage}&count=${pageSize}`)\r\n      .then(response => response.data)\r\n  },\r\n  follow(userId) {\r\n    return (\r\n      instance.post(`follow/${userId}`)\r\n    )\r\n  },\r\n  unfollow(userId) {\r\n    return (\r\n      instance.delete(`follow/${userId}`)\r\n    )\r\n  },\r\n  getProfile(userId) {\r\n    console.warn('Obsolete method. Please use profileAPI object')\r\n    return (\r\n      instance.get(`profile/${userId}`)\r\n    )\r\n  }\r\n}\r\n\r\nexport const profileAPI = {\r\n  getProfile(userId) {\r\n    return instance.get(`profile/${userId}`)\r\n  },\r\n  getStatus(userId) {\r\n    return instance.get(`profile/status/${userId}`)\r\n  },\r\n  updateStatus(status) {\r\n    return instance.put(`profile/status`, {\r\n      status\r\n    })\r\n  }\r\n}\r\n\r\nexport const authAPI = {\r\n  me: () => instance.get(`auth/me`),\r\n  login: (email, password, rememberMe = false) => instance.post('auth/login', {\r\n    email, password, rememberMe\r\n  }),\r\n  logout: () => instance.delete('auth/login')\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__xlOvC\",\"item\":\"Navbar_item__3Ytp3\",\"activeLink\":\"Navbar_activeLink__YVo_w\"};","let initialState = {}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\r\n  return state\r\n}\r\n\r\nexport default sidebarReducer","import {usersAPI} from \"../api/api\";\r\n\r\nconst FOLLOW = 'FOLLOW'\r\nconst UNFOLLOW = 'UNFOLLOW'\r\nconst SET_USERS = 'SET_USERS'\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT'\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING'\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS'\r\n\r\nconst initialState = {\r\n  users: [],\r\n  pageSize: 5,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  followingInProgress: [],\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USERS:\r\n      return {\r\n        ...state,\r\n        users: action.users,\r\n      }\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map(user => {\r\n          return user.id === action.userId ? {...user, followed: true} : user;\r\n        })\r\n      }\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map(user => {\r\n          return user.id === action.userId ? {...user, followed: false} : user;\r\n        })\r\n      }\r\n    case SET_CURRENT_PAGE:\r\n      return {\r\n        ...state,\r\n        currentPage: action.currentPage\r\n      }\r\n    case SET_TOTAL_USERS_COUNT:\r\n      return {\r\n        ...state,\r\n        totalUsersCount: action.totalCount\r\n      }\r\n    case TOGGLE_IS_FETCHING:\r\n      return {...state, isFetching: action.isFetching}\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching\r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter(id => id !== action.userId)\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId})\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId})\r\nexport const setUsers = (users) => ({type: SET_USERS, users})\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage})\r\nexport const setTotalUsersCount = (totalCount) => ({type: SET_TOTAL_USERS_COUNT, totalCount})\r\nexport const setIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching})\r\nexport const setIsFollowingInProgress = (isFetching, userId) => ({\r\n  type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n  isFetching,\r\n  userId\r\n})\r\n\r\nexport const requestUsers = (currentPage, pageSize) => async (dispatch) => {\r\n  dispatch(setIsFetching(true))\r\n  const data = await usersAPI.getUsers(currentPage, pageSize)\r\n\r\n  dispatch(setIsFetching(false))\r\n  dispatch(setUsers(data.items))\r\n  dispatch(setTotalUsersCount(data.totalCount))\r\n}\r\n\r\nconst followUnfollowFlow = async (userId, dispatch, apiMethod, actionCreator) => {\r\n  dispatch(setIsFollowingInProgress(true, userId))\r\n  const response = await apiMethod(userId)\r\n\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(actionCreator(userId))\r\n  }\r\n  dispatch(setIsFollowingInProgress(false, userId))\r\n}\r\n\r\nexport const follow = (userId) => (dispatch) => {\r\n  followUnfollowFlow(userId, dispatch, usersAPI.follow, followSuccess)\r\n}\r\n\r\nexport const unfollow = (userId) => (dispatch) => {\r\n  followUnfollowFlow(userId, dispatch, usersAPI.unfollow, unfollowSuccess)\r\n}\r\n\r\nexport default usersReducer","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA'\r\nconst initialState = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n  isFetching: false,\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n  type: SET_USER_DATA,\r\n  payload: {userId, email, login, isAuth}\r\n})\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n  const response = await authAPI.me()\r\n\r\n  if (response.data.resultCode === 0) {\r\n    let {id, email, login} = response.data.data\r\n    dispatch(setAuthUserData(id, email, login, true))\r\n  }\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n  const response = await authAPI.login(email, password, rememberMe)\r\n\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setAuthUserData(response.data.id, login, email, true))\r\n  } else {\r\n    dispatch(stopSubmit('login', {\r\n      _error: response.data.messages.map(message => message)\r\n    }))\r\n  }\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n  const response = await authAPI.logout()\r\n\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setAuthUserData(null, null, null, false))\r\n  }\r\n}\r\n\r\nexport default authReducer","import {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS'\r\nconst initialState = {\r\n  initialized: false,\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case INITIALIZED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        initialized: true,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const initializedSuccess = () => ({\r\n  type: INITIALIZED_SUCCESS\r\n})\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n  const promise = dispatch(getAuthUserData())\r\n\r\n  promise.then(() => {\r\n    dispatch(initializedSuccess())\r\n  })\r\n}\r\n\r\nexport default appReducer","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\"\r\nimport profileReducer from \"./profile-reduser\"\r\nimport dialogsReducer from \"./dialogs-reduser\"\r\nimport sidebarReducer from \"./sidebar-reducer\"\r\nimport usersReducer from \"./users-reducer\"\r\nimport authReducer from \"./auth-reducer\"\r\nimport thunkMiddleWare from 'redux-thunk'\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport appReducer from \"./app-reducer\";\r\n\r\nconst reducers = combineReducers({\r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogsReducer,\r\n  sidebar: sidebarReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  form: formReducer,\r\n  app: appReducer,\r\n})\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(\r\n  applyMiddleware(thunkMiddleWare)\r\n));\r\n\r\n// const store = createStore(reducers, applyMiddleware(thunkMiddleWare))\r\n\r\nexport default store","import s from './Navbar.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n  return (\r\n    <nav className={s.nav}>\r\n      <div className={s.item}>\r\n        <NavLink to=\"/profile\" activeClassName={s.activeLink}>\r\n          Profile\r\n        </NavLink>\r\n      </div>\r\n      <div className={`${s.item} ${s.activeLink}`}>\r\n        <NavLink to=\"/dialogs\" activeClassName={s.activeLink}>\r\n          Messages\r\n        </NavLink>\r\n      </div>\r\n      <div className={`${s.item}`}>\r\n        <NavLink to=\"/users\" activeClassName={s.activeLink}>\r\n          Users\r\n        </NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <a href=\"/#\">\r\n          News\r\n        </a>\r\n      </div>\r\n      <div className={s.item}>\r\n        <a href=\"/#\">\r\n          Music\r\n        </a>\r\n      </div>\r\n      <div className={s.item}>\r\n        <a href=\"/#\">\r\n          Settings\r\n        </a>\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default Navbar","export default __webpack_public_path__ + \"static/media/user_photo_small.6d3461ac.png\";","import style from \"./Users.module.scss\";\r\nimport userPhoto from \"../../assets/img/user_photo_small.png\";\r\nimport React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Users = (props) => {\r\n  let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize)\r\n  let pages = []\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        {\r\n          pages.map(page => {\r\n            return (\r\n              <span key={'page' + page}\r\n                    className={props.currentPage === page && style.selectedPage}\r\n                    onClick={() => props.onPageChanged(page)}\r\n              >\r\n                  {page}\r\n                </span>\r\n            )\r\n          })\r\n        }\r\n      </div>\r\n      {\r\n        props.users.map(user => {\r\n            return (\r\n              <div key={user.id}>\r\n                <span>\r\n                  <div>\r\n                    <NavLink to={'/profile/' + user.id}>\r\n                      <img src={user.photos.small || userPhoto}\r\n                           className={style.userPhoto}\r\n                           alt=\"\"/>\r\n                    </NavLink>\r\n                  </div>\r\n                  <div>\r\n                    <button\r\n                      disabled={props.followingInProgress.some(id => id === user.id)}\r\n                      onClick={\r\n                        () => {\r\n                          user.followed\r\n                            ? props.unfollow(user.id)\r\n                            : props.follow(user.id)\r\n                        }\r\n                      }\r\n                    >\r\n                      {\r\n                        user.followed ? 'unfollow' : 'follow'\r\n                      }\r\n                    </button>\r\n                  </div>\r\n                </span>\r\n                <span>\r\n                  <span>\r\n                    <div>{user.name}</div>\r\n                    <div>{user.status}</div>\r\n                  </span>\r\n                  <span>\r\n                    <div>{\"user.location.country\"}</div>\r\n                    <div>{\"user.location.city\"}</div>\r\n                  </span>\r\n                </span>\r\n              </div>\r\n            )\r\n          }\r\n        )\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Users","import {createSelector} from \"reselect\";\r\n\r\nconst getUsers = (state) => {\r\n  return state.usersPage.users\r\n}\r\n\r\nexport const getUsersSelector = (state) => {\r\n  return getUsers(state).filter(u => true)\r\n}\r\n\r\nexport const getUsersReselect = createSelector(getUsers, (users) => {\r\n  return users.filter(u => true)\r\n})\r\n\r\nexport const getPageSize = (state) => {\r\n  return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n  return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n  return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n  return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n  return state.usersPage.followingInProgress\r\n}","import React from 'react'\r\nimport {connect} from \"react-redux\"\r\nimport {\r\n  follow,\r\n  requestUsers,\r\n  setCurrentPage,\r\n  unfollow\r\n} from \"../../redux/users-reducer\"\r\nimport Users from \"./Users\"\r\nimport Preloader from \"../common/Preloader/Preloder\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n  getCurrentPage,\r\n  getFollowingInProgress,\r\n  getIsFetching,\r\n  getPageSize,\r\n  getTotalUsersCount,\r\n  getUsersReselect\r\n} from \"../../redux/users-selector\";\r\n\r\nclass UsersContainer extends React.Component {\r\n  componentDidMount() {\r\n    this.props.getUsers(this.props.currentPage, this.props.pageSize)\r\n  }\r\n\r\n  onPageChanged = (page) => {\r\n    this.props.setCurrentPage(page)\r\n    this.props.getUsers(page, this.props.pageSize)\r\n    /*if (this.props.currentPage !== page) {\r\n      this.props.setCurrentPage(page)\r\n      this.props.setIsFetching(true)\r\n      usersAPI.getUsers(page, this.props.pageSize).then(data => {\r\n        this.props.setIsFetching(false)\r\n        this.props.setUsers(data.items)\r\n        this.props.setTotalUsersCount(data.totalCount)\r\n      })\r\n    }*/\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.isFetching ? <Preloader/> : null}\r\n        <Users\r\n          totalUsersCount={this.props.totalUsersCount}\r\n          pageSize={this.props.pageSize}\r\n          currentPage={this.props.currentPage}\r\n          onPageChanged={this.onPageChanged}\r\n          users={this.props.users}\r\n          follow={this.props.follow}\r\n          unfollow={this.props.unfollow}\r\n          followingInProgress={this.props.followingInProgress}\r\n        />\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\n/*const mapStateToProps = (state) => {\r\n  return {\r\n    users: state.usersPage.users,\r\n    pageSize: state.usersPage.pageSize,\r\n    totalUsersCount: state.usersPage.totalUsersCount,\r\n    currentPage: state.usersPage.currentPage,\r\n    isFetching: state.usersPage.isFetching,\r\n    followingInProgress: state.usersPage.followingInProgress\r\n  }\r\n}*/\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsersReselect(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state)\r\n  }\r\n}\r\n\r\n// const mapDispatchToProps = (dispatch) => {\r\n//   return {\r\n//     follow: (userId) => {\r\n//       dispatch(followAC(userId))\r\n//     },\r\n//     unfollow: (userId) => {\r\n//       dispatch(unfollowAC(userId))\r\n//     },\r\n//     setUsers: (users) => {\r\n//       dispatch(setUsersAC(users))\r\n//     },\r\n//     setCurrentPage: (currentPage) => {\r\n//       dispatch(setCurrentPageAC(currentPage))\r\n//     },\r\n//     setTotalUsersCount: (totalCount) => {\r\n//       dispatch(setTotalUsersCountAC(totalCount))\r\n//     },\r\n//     setIsFetching: (isFetching) => {\r\n//       dispatch(setIsFetchingAC(isFetching))\r\n//     }\r\n//   }\r\n// }\r\n\r\nexport default compose(\r\n  connect(\r\n    mapStateToProps,\r\n    {\r\n      follow,\r\n      unfollow,\r\n      setCurrentPage,\r\n      getUsers: requestUsers,\r\n    }),\r\n)(UsersContainer)","import React from 'react'\r\nimport s from './Header.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n  return (\r\n    <header className={s.header}>\r\n      <img src=\"https://static.wikia.nocookie.net/brawlhalla_gamepedia/images/0/00/Avatar_Silly_Face.png\" alt=\"\"/>\r\n      <div className={s.loginBlock}>\r\n        {\r\n          !props.isAuth\r\n            ? <NavLink to=\"/login\">\r\n              Login\r\n            </NavLink>\r\n            : <div>\r\n              {props.login}\r\n              <button\r\n                onClick={props.logout}\r\n              >\r\n                logout\r\n              </button>\r\n            </div>\r\n        }\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport {getAuthUserData, logout} from \"../../redux/auth-reducer\";\r\nimport {connect} from \"react-redux\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n  render() {\r\n    return <Header {...this.props}/>\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login,\r\n})\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer)","import React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../common/FormControls/FormControls\";\r\nimport {maxLengthCreator, required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login, logout} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport style from '../../components/common/FormControls/FormControls.module.css'\r\n\r\nconst maxLength30 = maxLengthCreator(30)\r\n\r\n// export const LoginForm = (props) => {\r\nexport const LoginForm = ({handleSubmit, error}) => {\r\n  return (\r\n    <form action=\"\" onSubmit={handleSubmit}>\r\n      <div>\r\n        <Field\r\n          placeholder={\"Email\"}\r\n          component={Input}\r\n          name={\"email\"}\r\n          validate={[required, maxLength30]}\r\n        />\r\n      </div>\r\n      <div>\r\n        <Field\r\n          placeholder={\"Password\"}\r\n          component={Input}\r\n          type={\"password\"}\r\n          name={\"password\"}\r\n          validate={[required, maxLength30]}\r\n        />\r\n      </div>\r\n      <div>\r\n        <Field\r\n          component={Input}\r\n          type={\"checkbox\"}\r\n          name={\"rememberMe\"}\r\n        /> remember me\r\n      </div>\r\n      {\r\n        error &&\r\n          <div className={style.formError}>\r\n            {error}\r\n          </div>\r\n      }\r\n      <div>\r\n        <button>Login</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({\r\n  form: 'login',\r\n})(LoginForm)\r\n\r\nexport const Login = (props) => {\r\n  const onSubmit = (formData) => {\r\n    props.login(formData.email, formData.password, formData.rememberMe)\r\n  }\r\n\r\n  if (props.isAuth) {\r\n    return <Redirect to={'/profile'}/>\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Login page</h1>\r\n      <LoginReduxForm onSubmit={onSubmit}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isAuth: state.auth.isAuth\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, {login, logout})(Login)\r\n","import React, {Suspense} from \"react\";\nimport './App.css';\nimport Navbar from \"./components/Navbar/Navbar\";\nimport {Route} from 'react-router-dom'\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login\";\nimport {connect} from \"react-redux\";\nimport {initializeApp} from \"./redux/app-reducer\";\nimport Preloader from \"./components/common/Preloader/Preloder\";\nimport {withSuspense} from \"./hoc/withSuspense\";\n\nconst DialogsContainer = React.lazy(() => import(\"./components/Dialogs/DialogsContainer\"));\nconst ProfileContainer = React.lazy(() => import(\"./components/Profile/ProfileContainer\"));\n\nclass App extends React.Component {\n  componentDidMount() {\n    this.props.initializeApp()\n  }\n\n  render() {\n    if (!this.props.initialized) {\n      return <Preloader/>\n    }\n    return (\n      <div className=\"app-wrapper\">\n        <HeaderContainer/>\n        <Navbar/>\n        <div className=\"app-wrapper-content\">\n          <Route\n            path=\"/dialogs\"\n            render={() =>\n              (\n                <Suspense fallback={<Preloader/>}>\n                  <DialogsContainer/>\n                </Suspense>\n              )\n            }\n          />\n          <Route\n            path=\"/profile/:userId?\"\n            render={withSuspense(ProfileContainer)}\n          />\n          <Route\n            path=\"/users\"\n            render={() => <UsersContainer/>}\n          />\n          <Route\n            path=\"/login\"\n            render={() => <Login/>}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n})\n\nexport default connect(mapStateToProps, {initializeApp})(App)\n","import React, {Suspense} from \"react\";\r\nimport Preloader from \"../components/common/Preloader/Preloder\";\r\n\r\nexport const withSuspense = (Component) => (props) => (\r\n  <Suspense fallback={<Preloader/>}>\r\n    <Component {...props}/>\r\n  </Suspense>\r\n)","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport store from './redux/redux-store'\nimport {BrowserRouter} from 'react-router-dom'\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {Provider} from \"react-redux\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <Provider store={store}>\n      <App/>\n    </Provider>\n  </BrowserRouter>,\n  document.getElementById('root')\n)\n\nreportWebVitals();\n","export default __webpack_public_path__ + \"static/media/preloader.372b42cf.gif\";","import preloader from \"../../../assets/img/preloader.gif\";\r\nimport React from \"react\";\r\n\r\nconst Preloader = (props) => {\r\n  return (\r\n    <div className=\"preloaderBlock\">\r\n      <img src={preloader} alt=\"\"/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Preloader","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__3kSFy\",\"error\":\"FormControls_error__3brXg\",\"formError\":\"FormControls_formError__1oKSE\"};","import style from './FormControls.module.css'\r\n\r\nconst FormControl = ({input, meta, ...props}) => {\r\n  const hasError = meta.touched && meta.error;\r\n  return (\r\n    <div className={style.formControl + \" \" + (hasError ? style.error : \"\")}>\r\n      <div>\r\n        {props.children}\r\n      </div>\r\n      { hasError && <span>{meta.error}</span> }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n  const {input, meta, ...restProps} = props;\r\n  return <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n  const {input, meta, ...restProps} = props;\r\n  return <FormControl {...props}><input {...input} {...restProps} /></FormControl>\r\n}","export const required = value => {\r\n  if (value) return undefined\r\n\r\n  return 'Field is required'\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => value => {\r\n  if (value && value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n  return undefined\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__383LM\",\"selectedPage\":\"Users_selectedPage__ThqRu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2bkDe\",\"loginBlock\":\"Header_loginBlock__269u8\"};","import {profileAPI, usersAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST'\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE'\r\nconst SET_USER_STATUS = 'SET_USER_STATUS'\r\nconst DELETE_POST = 'DELETE_POST'\r\n\r\nlet initialState = {\r\n  posts: [\r\n    {id: 1, message: 'Hi, how are you?', likesCount: 12},\r\n    {id: 2, message: 'It\\'s my first post', likesCount: 11},\r\n    {id: 3, message: 'Blabla', likesCount: 11},\r\n    {id: 4, message: 'Dada', likesCount: 11},\r\n  ],\r\n  profile: null,\r\n  status: ''\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST: {\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, {\r\n          id: state.posts.length + 1,\r\n          message: action.newPostText,\r\n          likesCount: 5\r\n        }],\r\n      }\r\n    }\r\n    case SET_USER_PROFILE: {\r\n      return {\r\n        ...state,\r\n        profile: action.profile\r\n      }\r\n    }\r\n    case SET_USER_STATUS: {\r\n      return {\r\n        ...state,\r\n        status: action.status\r\n      }\r\n    }\r\n    case DELETE_POST: {\r\n      return {\r\n        ...state,\r\n        posts: state.posts.filter(post => post.id !== action.postId)\r\n      }\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText})\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId})\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\r\nexport const setUserStatus = (status) => ({type: SET_USER_STATUS, status})\r\n\r\nexport const getUserProfile = (userId) => async dispatch => {\r\n  const response = await usersAPI.getProfile(userId)\r\n\r\n  dispatch(setUserProfile(response.data))\r\n}\r\n\r\nexport const getUserStatus = (userId) => async dispatch => {\r\n  const response = await profileAPI.getStatus(userId)\r\n\r\n  dispatch(setUserStatus(response.data))\r\n}\r\n\r\nexport const updateUserStatus = status => async dispatch => {\r\n  const response = await profileAPI.updateStatus(status)\r\n\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setUserStatus(status))\r\n  }\r\n}\r\n\r\nexport default profileReducer"],"sourceRoot":""}